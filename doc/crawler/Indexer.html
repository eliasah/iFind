<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Thu May 09 23:15:11 CEST 2013 -->
<title>Indexer</title>
<meta name="date" content="2013-05-09">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Indexer";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../crawler/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Indexer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../crawler/FirstIndexation.BadCorpusFile.html" title="class in crawler"><span class="strong">Prev Class</span></a></li>
<li><a href="../crawler/XMLBuilder.html" title="class in crawler"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?crawler/Indexer.html" target="_top">Frames</a></li>
<li><a href="Indexer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">crawler</div>
<h2 title="Class Indexer" class="title">Class Indexer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>crawler.Indexer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">Indexer</span>
extends java.lang.Thread</pre>
<div class="block">Cette classe joue le rôle de l'indexeur, qui gère les évènements captés
 par les écouteurs. 
 Les évènements captés sont traités puis envoyés à la base d'indexation
 lorsque le nombre d'évènements courant dépasse un certain seuil.
 Lorsqu'un évènement est capté et ajouté à la file d'évènements partagée 
 par les écouteurs et l'indexeur, celui-ci traite l'évènement et vérifie
 qu'il ne crée pas de conflit avec un autre évènement.
 Par exemple, un premier évènement "modification de A" est détecté.
 Puis un deuxième évènement "renommage de A en B" est détecté.
 Enfin l'évènement "suppression de B" est détecté.
 Si aucun prétraitement n'est effectué, une erreur sera détectée lors du 
 traitement du premier évènement "modification de A", puisque le fichier A,
 renommé B, a été supprimé du disque.
 Il convient donc dans ce cas là de supprimer les deux premiers évènements
 et de simplement envoyer à la base d'indexation l'évènement 
 "suppression de A".
 D'autres conflits de ce type peuvent avoir lieu et sont traités au moment
 de l'ajout des évènements, selon leur type.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>isabelle</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../crawler/Indexer.html#Indexer(java.util.concurrent.LinkedBlockingQueue)">Indexer</a></strong>(java.util.concurrent.LinkedBlockingQueue&lt;<a href="../crawler/Event.html" title="class in crawler">Event</a>&gt;&nbsp;events)</code>
<div class="block">Constructeur qui lance l'indexeur.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../crawler/Indexer.html#addCreation(crawler.Event)">addCreation</a></strong>(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</code>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../crawler/Indexer.html#addDeletion(crawler.Event)">addDeletion</a></strong>(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</code>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../crawler/Indexer.html#addEvent(crawler.Event)">addEvent</a></strong>(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</code>
<div class="block">Selon le type de l'évènement passé en paramètre, appelle la méthode
 appropriée qui supprimera les conflits entraînés par l'ajout de certains
 évènements incompatibles.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../crawler/Indexer.html#addModification(crawler.Event)">addModification</a></strong>(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</code>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../crawler/Indexer.html#addRenaming(crawler.Event)">addRenaming</a></strong>(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</code>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../crawler/Indexer.html#run()">run</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../crawler/Indexer.html#sendEvents()">sendEvents</a></strong>()</code>
<div class="block">Génère le code XML associé aux évènements captés et l'envoie
 à la base d'indexation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Indexer(java.util.concurrent.LinkedBlockingQueue)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Indexer</h4>
<pre>public&nbsp;Indexer(java.util.concurrent.LinkedBlockingQueue&lt;<a href="../crawler/Event.html" title="class in crawler">Event</a>&gt;&nbsp;events)
        throws java.net.UnknownHostException,
               java.io.IOException</pre>
<div class="block">Constructeur qui lance l'indexeur.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>events</code> - La file partagée des évènements détectés.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.net.UnknownHostException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="addEvent(crawler.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEvent</h4>
<pre>public&nbsp;void&nbsp;addEvent(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</pre>
<div class="block">Selon le type de l'évènement passé en paramètre, appelle la méthode
 appropriée qui supprimera les conflits entraînés par l'ajout de certains
 évènements incompatibles.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - L'évènement du fichier à traiter.</dd></dl>
</li>
</ul>
<a name="addCreation(crawler.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCreation</h4>
<pre>public&nbsp;void&nbsp;addCreation(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</pre>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - L'évènement du fichier à indexer.</dd></dl>
</li>
</ul>
<a name="addDeletion(crawler.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDeletion</h4>
<pre>public&nbsp;void&nbsp;addDeletion(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</pre>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - L'évènement du fichier à supprimer.</dd></dl>
</li>
</ul>
<a name="addModification(crawler.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addModification</h4>
<pre>public&nbsp;void&nbsp;addModification(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</pre>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - L'évènement du fichier à réindexer.</dd></dl>
</li>
</ul>
<a name="addRenaming(crawler.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRenaming</h4>
<pre>public&nbsp;void&nbsp;addRenaming(<a href="../crawler/Event.html" title="class in crawler">Event</a>&nbsp;event)</pre>
<div class="block">Ajoute un évènement à la liste des évènements déjà traités
 et résoud les conflits si besoin.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - L'évènement du fichier à renommer.</dd></dl>
</li>
</ul>
<a name="sendEvents()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sendEvents</h4>
<pre>public&nbsp;void&nbsp;sendEvents()
                throws java.io.IOException</pre>
<div class="block">Génère le code XML associé aux évènements captés et l'envoie
 à la base d'indexation.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../crawler/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Indexer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../crawler/FirstIndexation.BadCorpusFile.html" title="class in crawler"><span class="strong">Prev Class</span></a></li>
<li><a href="../crawler/XMLBuilder.html" title="class in crawler"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?crawler/Indexer.html" target="_top">Frames</a></li>
<li><a href="Indexer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
